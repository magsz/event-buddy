(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{3864:(e,t,n)=>{Promise.resolve().then(n.bind(n,2929))},2929:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var l=n(5155),a=n(2115);function r(){let[e,t]=(0,a.useState)({title:"",description:"",startDate:"",endDate:"",location:"",genre:""}),[n,r]=(0,a.useState)(!1),[o,s]=(0,a.useState)(""),u=n=>{t({...e,[n.target.name]:n.target.value})},c=async n=>{n.preventDefault(),r(!0),s("");try{let n=localStorage.getItem("token");console.log(n),console.log(e);let l=await fetch("http://localhost:8000/events",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(e)});if(console.log(l),!l.ok)throw Error("Failed to create event: ".concat(l.statusText));await l.json(),s("Event created successfully!"),t({title:"",description:"",startDate:"",endDate:"",location:"",genre:""})}catch(e){s("Error: "+e.message)}finally{r(!1)}};return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6 text-purple-700",children:"Create an Event"}),(0,l.jsxs)("form",{onSubmit:c,className:"bg-purple-200 shadow-md rounded-lg p-6 w-full max-w-md",children:[(0,l.jsx)("input",{type:"text",name:"title",value:e.title,onChange:u,placeholder:"Title",className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,l.jsx)("textarea",{name:"description",value:e.description,onChange:u,placeholder:"Description",className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,l.jsx)("input",{type:"date",name:"startDate",value:e.startDate,onChange:u,className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,l.jsx)("input",{type:"date",name:"endDate",value:e.endDate,onChange:u,className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,l.jsx)("input",{type:"text",name:"location",value:e.location,onChange:u,placeholder:"Location",className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,l.jsx)("input",{type:"text",name:"genre",value:e.genre,onChange:u,placeholder:"Genre",className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-500 transition",disabled:n,children:n?"Creating...":"Create Event"}),o&&(0,l.jsx)("p",{className:"text-black mt-4 text-center text-sm",children:o})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(3864)),_N_E=e.O()}]);