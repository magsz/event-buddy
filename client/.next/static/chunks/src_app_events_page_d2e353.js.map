{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/magsz/Documents/VS%20Code/Projects/event-buddy/event-buddy/src/app/events/page.js"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Link from \"next/link\";\n\nexport default function Events() {\n\tconst [events, setEvents] = useState([]);\n\tconst [query, setQuery] = useState(\"\");\n\tconst [isSearching, setIsSearching] = useState(false);\n\n\tconst router = useRouter();\n\n\tuseEffect(() => {\n\t\tasync function fetchEvents() {\n\t\t\ttry {\n\t\t\t\tconst token = localStorage.getItem(\"token\");\n\n\t\t\t\tif (!token) {\n\t\t\t\t\trouter.push(\"/login\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t\"http://localhost:8000/events\",\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconst data = await response.json();\n\t\t\t\tsetEvents(data);\n\n\t\t\t\t// if (Array.isArray(data)) {\n\t\t\t\t// \tsetEvents(data);\n\t\t\t\t// } else {\n\t\t\t\t// \tsetEvents([]);\n\t\t\t\t// }\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(\"Error fetching events:\", err.message);\n\t\t\t}\n\t\t}\n\t\tfetchEvents();\n\t}, []);\n\n\tasync function fetchSearchQuery(query) {\n\t\ttry {\n\t\t\tsetEvents([]);\n\t\t\tconst token = localStorage.getItem(\"token\");\n\n\t\t\tconst res = await fetch(\n\t\t\t\t`http://localhost:8000/events/search?search=${query}`,\n\t\t\t\t{\n\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst data = await res.json();\n\t\t\tsetEvents(data);\n\n\t\t\t// if (Array.isArray(data)) {\n\t\t\t// \tsetEvents(data);\n\t\t\t// } else {\n\t\t\t// \tsetEvents([]);\n\t\t\t// }\n\t\t} catch (err) {\n\t\t\tconsole.error(\"Error fetching events:\", err.message);\n\t\t}\n\t}\n\n\tfunction handleSearchQuery(e) {\n\t\tsetQuery(e.target.value);\n\t}\n\n\tfunction handleSearch() {\n\t\tfetchSearchQuery(query);\n\t}\n\n\tconst eventsList = events.map((event) => (\n\t\t<div key={event.id} className=\"p-6 rounded-lg shadow-lg mb-4\">\n\t\t\t<Link\n\t\t\t\thref={\"events/\" + event.id}\n\t\t\t\tkey={event.id}\n\t\t\t\tclassName=\"text-2xl font-semibold text-purple-500\">\n\t\t\t\t{event.title}\n\t\t\t</Link>\n\t\t\t<p className=\"text-lg mt-2\">{event.description}</p>\n\t\t\t<p className=\"text-sm text-gray-400 mt-2\">{event.location}</p>\n\t\t\t<span className=\"text-sm text-purple-300\">{event.genre}</span>\n\t\t\t<br />\n\t\t\t<span className=\"text-sm text-gray-500 mt-2\">\n\t\t\t\t{new Date(event.startdate).toLocaleDateString(\"en-US\")}-\n\t\t\t\t{new Date(event.enddate).toLocaleDateString(\"en-US\")}\n\t\t\t</span>\n\t\t</div>\n\t));\n\n\treturn (\n\t\t<div className=\"min-h-screen py-12 px-4\">\n\t\t\t<h1 className=\"text-4xl font-extrabold text-center text-purple-500 mb-8\">\n\t\t\t\tEvents Page\n\t\t\t</h1>\n\t\t\t<div className=\"flex justify-center mb-6\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tplaceholder=\"Search for events...\"\n\t\t\t\t\tonChange={handleSearchQuery}\n\t\t\t\t\tclassName=\"w-full max-w-md px-4 py-2 border text-black border-purple-500 rounded-lg focus:outline-none focus:ring-purple-400\"></input>\n\t\t\t\t<button\n\t\t\t\t\tonClick={handleSearch}\n\t\t\t\t\tclassName=\"px-4 py-2 bg-purple-700 text-white font-semibold rounded-lg hover:bg-purple-500 transition duration-300\">\n\t\t\t\t\tSearch\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"max-w-3xl mx-auto\">{eventsList}</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACvB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE/C,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IAEvB,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;4BAAE;YACT,eAAe;gBACd,IAAI;oBACH,MAAM,QAAQ,aAAa,OAAO,CAAC;oBAEnC,IAAI,CAAC,OAAO;wBACX,OAAO,IAAI,CAAC;wBACZ;oBACD;oBAEA,MAAM,WAAW,MAAM,MACtB,gCACA;wBACC,QAAQ;wBACR,SAAS;4BACR,gBAAgB;4BAChB,eAAe,CAAC,OAAO,EAAE,OAAO;wBACjC;oBACD;oBAED,MAAM,OAAO,MAAM,SAAS,IAAI;oBAChC,UAAU;gBAEV,6BAA6B;gBAC7B,oBAAoB;gBACpB,WAAW;gBACX,kBAAkB;gBAClB,IAAI;gBACL,EAAE,OAAO,KAAK;oBACb,QAAQ,KAAK,CAAC,0BAA0B,IAAI,OAAO;gBACpD;YACD;YACA;QACD;2BAAG,EAAE;IAEL,eAAe,iBAAiB,KAAK;QACpC,IAAI;YACH,UAAU,EAAE;YACZ,MAAM,QAAQ,aAAa,OAAO,CAAC;YAEnC,MAAM,MAAM,MAAM,MACjB,CAAC,2CAA2C,EAAE,OAAO,EACrD;gBACC,QAAQ;gBACR,SAAS;oBACR,gBAAgB;oBAChB,eAAe,CAAC,OAAO,EAAE,OAAO;gBACjC;YACD;YAGD,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,UAAU;QAEV,6BAA6B;QAC7B,oBAAoB;QACpB,WAAW;QACX,kBAAkB;QAClB,IAAI;QACL,EAAE,OAAO,KAAK;YACb,QAAQ,KAAK,CAAC,0BAA0B,IAAI,OAAO;QACpD;IACD;IAEA,SAAS,kBAAkB,CAAC;QAC3B,SAAS,EAAE,MAAM,CAAC,KAAK;IACxB;IAEA,SAAS;QACR,iBAAiB;IAClB;IAEA,MAAM,aAAa,OAAO,GAAG,CAAC,CAAC,sBAC9B,6LAAC;YAAmB,WAAU;;8BAC7B,6LAAC,+JAAA,CAAA,UAAI;oBACJ,MAAM,YAAY,MAAM,EAAE;oBAE1B,WAAU;8BACT,MAAM,KAAK;mBAFP,MAAM,EAAE;;;;;8BAId,6LAAC;oBAAE,WAAU;8BAAgB,MAAM,WAAW;;;;;;8BAC9C,6LAAC;oBAAE,WAAU;8BAA8B,MAAM,QAAQ;;;;;;8BACzD,6LAAC;oBAAK,WAAU;8BAA2B,MAAM,KAAK;;;;;;8BACtD,6LAAC;;;;;8BACD,6LAAC;oBAAK,WAAU;;wBACd,IAAI,KAAK,MAAM,SAAS,EAAE,kBAAkB,CAAC;wBAAS;wBACtD,IAAI,KAAK,MAAM,OAAO,EAAE,kBAAkB,CAAC;;;;;;;;WAbpC,MAAM,EAAE;;;;;IAkBnB,qBACC,6LAAC;QAAI,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAA2D;;;;;;0BAGzE,6LAAC;gBAAI,WAAU;;kCACd,6LAAC;wBACA,MAAK;wBACL,aAAY;wBACZ,UAAU;wBACV,WAAU;;;;;;kCACX,6LAAC;wBACA,SAAS;wBACT,WAAU;kCAA0G;;;;;;;;;;;;0BAItH,6LAAC;gBAAI,WAAU;0BAAqB;;;;;;;;;;;;AAGvC;GAtHwB;;QAKR,qIAAA,CAAA,YAAS;;;KALD"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}