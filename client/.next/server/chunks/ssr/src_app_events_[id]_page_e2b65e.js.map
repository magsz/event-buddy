{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/magsz/Documents/VS%20Code/Projects/event-buddy/event-buddy/src/app/events/%5Bid%5D/page.js"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { useParams, useRouter } from \"next/navigation\";\n\nexport default function EventDetail() {\n\tconst { id } = useParams();\n\tconst userId = localStorage.getItem(\"userId\");\n\tconst [event, setEvent] = useState(null);\n\tconst [error, setError] = useState(null);\n\tconst [isEditing, setIsEditing] = useState(false);\n\tconst [rsvp, setRsvp] = useState(true);\n\tconst [formData, setFormData] = useState({\n\t\ttitle: \"\",\n\t\tdescription: \"\",\n\t\tlocation: \"\",\n\t\tstartdate: \"\",\n\t\tenddate: \"\",\n\t\tgenre: \"\",\n\t});\n\n\tconst router = useRouter();\n\n\tuseEffect(() => {\n\t\tasync function fetchEvent() {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`http://localhost:8000/events/${id}`\n\t\t\t\t);\n\t\t\t\tif (!response.ok) throw new Error(\"Failed to fetch event\");\n\t\t\t\tconst data = await response.json();\n\t\t\t\tsetEvent(data);\n\t\t\t\tsetFormData(data);\n\t\t\t} catch (err) {\n\t\t\t\tsetError(err.message);\n\t\t\t}\n\t\t}\n\n\t\tfetchEvent();\n\t}, [id]);\n\n\tfunction handleChange(e) {\n\t\tsetFormData({ ...formData, [e.target.name]: e.target.value });\n\t}\n\n\tasync function handleEdit() {\n\t\ttry {\n\t\t\tconst response = await fetch(\n\t\t\t\t`http://localhost:8000/events/${id}`,\n\t\t\t\t{\n\t\t\t\t\tmethod: \"PUT\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify(formData),\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (response.ok) {\n\t\t\t\tconst updatedEvent = await response.json();\n\t\t\t\tsetEvent(updatedEvent);\n\t\t\t\tsetIsEditing(false);\n\t\t\t\trouter.push(\"/events\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t}\n\t}\n\n\tasync function handleDelete() {\n\t\ttry {\n\t\t\tconst response = await fetch(\n\t\t\t\t`http://localhost:8000/events/${id}`,\n\t\t\t\t{\n\t\t\t\t\tmethod: \"DELETE\",\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tif (response.ok) {\n\t\t\t\talert(\"Event deleted!\");\n\t\t\t\trouter.push(\"/events\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.log(err.message);\n\t\t}\n\t}\n\n\tasync function handleRsvp() {\n\t\tsetRsvp((prev) => !prev);\n\t\tif (rsvp) {\n\t\t\ttry {\n\t\t\t\tconst response = await fetch(\n\t\t\t\t\t`http://localhost:8000/events/${id}/rsvp`,\n\t\t\t\t\t{\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\t\tuser_id: userId,\n\t\t\t\t\t\t\tstatus: \"going\",\n\t\t\t\t\t\t}),\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\tconst data = await response.json();\n\n\t\t\t\tconsole.log(data);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err.message);\n\t\t\t}\n\t\t} else {\n\t\t\tconst response = await fetch(\n\t\t\t\t`http://localhost:8000/events/${id}/rsvp`,\n\t\t\t\t{\n\t\t\t\t\tmethod: \"DELETE\",\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t},\n\t\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\t\tuser_id: userId,\n\t\t\t\t\t}),\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst data = await response.json();\n\t\t\tconsole.log(data);\n\t\t}\n\t}\n\n\tif (error) return <p>Error: {error}</p>;\n\tif (!event) return <p>Loading event details...</p>;\n\n\treturn (\n\t\t<div className=\"min-h-screen flex flex-col items-center justify-center\">\n\t\t\t{isEditing ? (\n\t\t\t\t<div className=\"bg-purple-200 shadow-md rounded-lg p-6 w-ful max-w-md\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\tvalue={formData.title}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tclassName=\"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<textarea\n\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\tvalue={formData.description}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tclassName=\"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400\"\n\t\t\t\t\t\trequired></textarea>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tname=\"startdate\"\n\t\t\t\t\t\tvalue={formData.startdate}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tclassName=\"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tname=\"enddate\"\n\t\t\t\t\t\tvalue={formData.enddate}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tclassName=\"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"location\"\n\t\t\t\t\t\tvalue={formData.location}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tclassName=\"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"genre\"\n\t\t\t\t\t\tvalue={formData.genre}\n\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\tclassName=\"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tonClick={handleEdit}\n\t\t\t\t\t\tclassName=\"p-2  mr-2 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-500 transition\">\n\t\t\t\t\t\tSave\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetIsEditing(false);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"p-2  mr-2 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-500 transition\">\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={handleDelete}\n\t\t\t\t\t\tclassName=\"p-2  mr-2 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-500 transition\">\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t//Conditionally render\n\t\t\t\t//Edit Mode\n\t\t\t\t//View mode\n\n\t\t\t\t<div className=\"flex justify-center items-center pt-10\">\n\t\t\t\t\t<div className=\"p-6 rounded-lg shadow-lg mb-4\">\n\t\t\t\t\t\t<h1 className=\"text-2xl font-semibold text-purple-500\">\n\t\t\t\t\t\t\t{event.title}\n\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t<p className=\"text-lg mt-2\">\n\t\t\t\t\t\t\t{event.description}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"text-sm text-gray-400 mt-2\">\n\t\t\t\t\t\t\tLocation: {event.location}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<span className=\"text-sm text-gray-500 mt-2\">\n\t\t\t\t\t\t\t{new Date(\n\t\t\t\t\t\t\t\tevent.startdate\n\t\t\t\t\t\t\t).toLocaleDateString(\"en-US\")}{\" \"}\n\t\t\t\t\t\t\t-\n\t\t\t\t\t\t\t{new Date(event.enddate).toLocaleDateString(\n\t\t\t\t\t\t\t\t\"en-US\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<div className=\"mt-4 flex gap-4\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"text-sm w-12 h-6 rounded-md bg-gray-200 text-black hover:bg-gray-300\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetIsEditing(true);\n\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"text-sm w-12 h-6 rounded-md bg-gray-200 text-black hover:bg-gray-300\"\n\t\t\t\t\t\t\t\tonClick={handleRsvp}>\n\t\t\t\t\t\t\t\t{rsvp ? \"RSVP\" : \"✔️\"}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 342, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}