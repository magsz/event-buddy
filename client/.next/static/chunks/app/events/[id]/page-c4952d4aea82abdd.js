(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[336],{7350:(e,t,n)=>{Promise.resolve().then(n.bind(n,121))},6046:(e,t,n)=>{"use strict";var s=n(6658);n.o(s,"useParams")&&n.d(t,{useParams:function(){return s.useParams}}),n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}})},121:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var s=n(5155),a=n(2115),l=n(6046);function r(){let{id:e}=(0,l.useParams)(),[t,n]=(0,a.useState)(null),[r,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1),[i,d]=(0,a.useState)({title:"",description:"",location:"",startdate:"",enddate:"",genre:""}),p=(0,l.useRouter)();function m(e){d({...i,[e.target.name]:e.target.value})}async function g(){console.log(i);try{let t=await fetch("http://localhost:8000/events/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(t.ok){let e=await t.json();n(e),u(!1),p.push("/events")}}catch(e){console.log(e.message)}}async function h(){try{(await fetch("http://localhost:8000/events/".concat(e),{method:"DELETE"})).ok&&(alert("Event deleted!"),p.push("/events"))}catch(e){console.log(e.message)}}return((0,a.useEffect)(()=>{(async function(){try{let t=await fetch("http://localhost:8000/events/".concat(e));if(!t.ok)throw Error("Failed to fetch event");let s=await t.json();n(s),d(s)}catch(e){o(e.message)}})()},[e]),r)?(0,s.jsxs)("p",{children:["Error: ",r]}):t?(0,s.jsx)("div",{className:"min-h-screen flex flex-col items-center justify-center",children:c?(0,s.jsxs)("div",{className:"bg-purple-200 shadow-md rounded-lg p-6 w-ful max-w-md",children:[(0,s.jsx)("input",{type:"text",name:"title",value:i.title,onChange:m,className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,s.jsx)("textarea",{name:"description",value:i.description,onChange:m,className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,s.jsx)("input",{type:"date",name:"startdate",value:i.startdate,onChange:m,className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,s.jsx)("input",{type:"date",name:"enddate",value:i.enddate,onChange:m,className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,s.jsx)("input",{type:"text",name:"location",value:i.location,onChange:m,className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,s.jsx)("input",{type:"text",name:"genre",value:i.genre,onChange:m,className:"text-black w-full px-4 py-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-400",required:!0}),(0,s.jsx)("button",{type:"submit",onClick:g,className:"p-2  mr-2 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-500 transition",children:"Save"}),(0,s.jsx)("button",{onClick:()=>{u(!1)},className:"p-2  mr-2 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-500 transition",children:"Cancel"}),(0,s.jsx)("button",{onClick:h,className:"p-2  mr-2 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-500 transition",children:"Delete"})]}):(0,s.jsx)("div",{className:"flex justify-center items-center pt-10",children:(0,s.jsxs)("div",{className:"p-6 rounded-lg shadow-lg mb-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold text-purple-500",children:t.title}),(0,s.jsx)("p",{className:"text-lg mt-2",children:t.description}),(0,s.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["Location: ",t.location]}),(0,s.jsxs)("span",{className:"text-sm text-gray-500 mt-2",children:[new Date(t.startdate).toLocaleDateString("en-US")," ","-",new Date(t.enddate).toLocaleDateString("en-US")]}),(0,s.jsx)("div",{className:"mt-4 flex gap-4",children:(0,s.jsx)("button",{className:"text-sm w-12 h-6 rounded-md bg-gray-200 text-black hover:bg-gray-300",onClick:()=>{u(!0)},children:"Edit"})})]})})}):(0,s.jsx)("p",{children:"Loading event details..."})}}},e=>{var t=t=>e(e.s=t);e.O(0,[441,517,358],()=>t(7350)),_N_E=e.O()}]);